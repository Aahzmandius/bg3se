<?xml version="1.0" encoding="UTF-8"?>
<BinaryMappings>
    <Mappings Version="4.1.99.3036" Default="true">
        <Mapping Name="EoCMemoryMgr" Critical="true">
            <Target Name="EoCFree" Type="Indirect" Offset="0" Symbol="EoCFree" />
            <Target Name="EoCAlloc" Type="Indirect" Offset="32" Symbol="EoCAlloc" />
            E8 ?? ?? ?? ?? // call    ls__GlobalAllocator__FreeInternal
            48 63 47 08 // movsxd  rax, dword ptr [rdi+8]
            41 B9 08 00 00 00 // mov     r9d, 8
            48 69 C8 88 00 00 00 // imul    rcx, rax, 88h
            45 33 C0 // xor     r8d, r8d
            89 43 08 // mov     [rbx+8], eax
            41 8D 51 FD // lea     edx, [r9-3]
            E8 ?? ?? ?? ?? // call    ls__GlobalAllocator__AllocateInternal
        </Mapping>

        <Mapping Name="ls::FixedString::Create" Critical="true">
            <Condition Type="String" Offset="6" Value="VendorID" />
            <Target Name="ls::FixedString::Create" Type="Indirect" Offset="17" Symbol="ls__FixedString__Create" />
            41 B8 FF FF FF FF // mov     r8d, 0FFFFFFFFh
            48 8D 15 ?? ?? ?? ?? // lea     rdx, aVendorid
            48 8D 4D ?? // lea     rcx, [rbp+XX]
            E8 ?? ?? ?? ?? // call    ls__FixedString__FromString
        </Mapping>

        <Mapping Name="ls::FixedString::GetString" Critical="true">
            <Target Name="ls::FixedString::FromString" Type="Absolute" Offset="0" Symbol="ls__FixedString__GetString" />
            48 83 EC 38 // sub     rsp, 38h
            8B 11 // mov     edx, [rcx]
            83 FA FF // cmp     edx, 0FFFFFFFFh
            74 14 // ja      short xxx
            48 8D 4C 24 20 // lea     rcx, [rsp+38h+var_18]
            E8 ?? ?? ?? ?? // call    ls__FixedString__GetStringValue
            48 8B 44 24 20 // mov     rax, [rsp+38h+var_18]
            48 83 C4 38 // add     rsp, 38h
        </Mapping>

        <Mapping Name="ls::FixedString::DecRef" Critical="true">
            <Target Name="ls::FixedString::IncRef" Type="Indirect" Offset="7" Symbol="ls__FixedString__IncRef" />
            <Target Name="ls::FixedString::DecRef" Type="Indirect" Offset="19" Symbol="ls__FixedString__DecRef" />
            83 FF FF // cmp     edi, 0FFFFFFFEh
            74 09 // jnb     short xxx
            8B CF // mov     ecx, edi
            E8 ?? ?? ?? ?? // call    ls__FixedString__AddRef
            8B 0B // mov     ecx, [rbx]
            83 F9 FF // cmp     ecx, 0FFFFFFFDh
            74 05 // ja      short xxx
            E8 ?? ?? ?? ?? // call    ls__FixedString__DecRef
        </Mapping>

        <Mapping Name="ls::FileReader::FileReader" Critical="true">
            <Target Name="ls::FileReader::FileReader" Type="Indirect" Offset="5" Symbol="ls__FileReader__ctor" />
            <Target Name="ls::FileReader::~FileReader" Type="Indirect" Offset="30" Symbol="ls__FileReader__dtor" />
            48 8D 4C 24 68 // lea     rcx, [rsp+140h+var_D8]
            E8 ?? ?? ?? ?? // call    ls__FileReader__ctor
            48 8B D0 // mov     rdx, rax
            48 8D 8F ?? 04 00 00 // lea     rcx, [rdi+4XXh]
            E8 ?? ?? ?? ?? // call    xxx
            48 8D 4C 24 68 // lea     rcx, [rsp+140h+var_D8]
            E8 ?? ?? ?? ?? // call    ls__FileReader__dtor
            48 8D 8F ?? 04 00 00 // lea     rcx, [rdi+4XXh] 
        </Mapping>

        <Mapping Name="PathRoots" Critical="true">
            <Target Name="PathRoots" Type="Indirect" Offset="7" Symbol="PathRoots" />
            48 83 EC 40 // sub     rsp, 40h
            48 8B F1 // mov     rsi, rcx
            48 8D 05 ?? ?? ?? ?? // lea     rax, ls__gPathRoots
            41 0F B7 C8 // movzx   ecx, r8w
            48 8B FA // mov     rdi, rdx
            48 8D 54 24 20 // lea     rdx, [rsp+48h+a2]
        </Mapping>

        <Mapping Name="EoCServer2/EoCClient2" Critical="true">
            <Target Name="ecl::EoCClient" Type="Indirect" Offset="7" Symbol="ecl__EoCClient" />
            <Target Name="esv::EoCServer" Type="Indirect" Offset="31" Symbol="esv__EoCServer" />
            48 89 B3 48 02 00 00 // mov     qword ptr [rbx+248h], 0
            48 8B 0D ?? ?? ?? ?? // mov     rcx, cs:ecl__gEoCClient
            E8 ?? ?? ?? ?? // call    xxx
            48 8B 8B 40 02 00 00 // mov     rcx, [rbx+240h]
            E8 ?? ?? ?? ?? // call    xxx
            48 8B 0D ?? ?? ?? ?? // mov     rcx, cs:esv__gEoCServer
        </Mapping>

        <Mapping Name="esv::StatusMachine::CreateStatus" Critical="true">
            <Condition Type="FixedString" Offset="0" Value="STORY_FROZEN" />
            <Target Name="esv::StatusMachine::CreateStatus" Type="Indirect" Offset="20" Symbol="esv__StatusMachine__CreateStatus" />
            <Target Name="esv::StatusMachine::ApplyStatus" Type="Indirect" Offset="36" Symbol="esv__StatusMachine__ApplyStatus" />
            48 8D 15 ?? ?? ?? ?? // lea     rdx, fs_STORY_FROZEN
            4C 8B 05 ?? ?? ?? ?? // mov     r8, cs:qword_144D7D670
            48 8B CB // mov     rcx, rbx
            45 33 C9 // xor     r9d, r9d
            E8 ?? ?? ?? ?? // call    esv__StatusMachine__CreateStatus
            48 8B D0 // mov     rdx, rax
            48 8B CB // mov     rcx, rbx
            48 83 C4 20 // add     rsp, 20h
            5B // pop     rbx
            E9 ?? ?? ?? ?? // jmp     esv__StatusMachine__ApplyStatus
        </Mapping>

        <Mapping Name="ecl::EoCClient::HandleError" Critical="true">
            <Target Name="ecl::EoCClient::HandleError" Type="Indirect" Offset="19" Symbol="ecl__EoCClient__HandleError" />
            E8 ?? ?? ?? ?? // call    ls__TranslatedString__GetTranslatedString
            4C 8D 4C 24 38 // lea     r9, [rsp+68h+a1]
            41 B0 01 // mov     r8b, 1
            48 8B D0 // mov     rdx, rax
            48 8B CF // mov     rcx, rdi
            E8 ?? ?? ?? ?? // call    ecl__EocClient__HandleError
            90 // nop
            48 8D 4C 24 28 // lea     rcx, [rsp+68h+var_40]
        </Mapping>

        <Mapping Name="ecl::GameStateEventManager::ExecuteGameStateChangedEvent" Scope="Custom" Critical="true">
            <Target Type="Indirect" Offset="7" Symbol="ecl__GameStateEventManager__ExecuteGameStateChangedEvent" />
            48 8B 0D ?? ?? ?? ?? // mov     rcx, cs:xxx
            E8 ?? ?? ?? ?? // call    ecl__GameStateEventManager__ExecuteGameStateChangedEvent
            48 8B 0F // mov     rcx, [rdi]
        </Mapping>

        <Mapping Name="ecl::GameStateMachine::Update" Scope="Custom" Critical="true">
            <Target Type="Absolute" Offset="0" Symbol="ecl__GameStateMachine__Update" />
      48 89 5C 24 10 // mov     [rsp+arg_8], rbx
      55 // push    rbp
      56 // push    rsi
      57 // push    rdi
        </Mapping>

        <Mapping Name="ecl::GameStateEventManager::ExecuteGameStateChangedEvent - Initial" Critical="true">
            <Condition Type="String" Offset="0" Value="CLIENT STATE SWAP - from: %s, to: %s&#10;" />
            <Target Type="Absolute" Offset="0" NextSymbol="ecl::GameStateEventManager::ExecuteGameStateChangedEvent" NextSymbolSeekSize="128" />
          <Target Type="Absolute" Offset="-512" NextSymbol="ecl::GameStateMachine::Update" NextSymbolSeekSize="512" />
            4C 8D 05 ?? ?? ?? ?? // lea r8, aClientStateSwa ; "CLIENT STATE SWAP - from: %s, to: %s\n"
        </Mapping>

        <Mapping Name="esv::GameStateEventManager::ExecuteGameStateChangedEvent" Scope="Custom" Critical="true">
            <Target Type="Indirect" Offset="7" Symbol="esv__GameStateEventManager__ExecuteGameStateChangedEvent" />
            48 8B 0D ?? ?? ?? ?? // mov     rcx, cs:xxx
            E8 ?? ?? ?? ?? // call    esv__GameStateEventManager__ExecuteGameStateChangedEvent
            48 8B 4B 08 // mov     rcx, [rbx+8]
        </Mapping>

        <Mapping Name="esv::GameStateMachine::Update" Scope="Custom" Critical="true">
            <Target Type="Absolute" Offset="0" Symbol="esv__GameStateMachine__Update" />
      41 57 // push    r15
      48 81 EC 90 00 00 00 // sub     rsp, 90h
        </Mapping>

        <Mapping Name="esv::GameStateEventManager::ExecuteGameStateChangedEvent - Initial" Critical="true">
            <Condition Type="String" Offset="0" Value="SERVER STATE SWAP - from: %s, to: %s&#10;" />
            <Target Type="Absolute" Offset="0" NextSymbol="esv::GameStateEventManager::ExecuteGameStateChangedEvent" NextSymbolSeekSize="128" />
            <Target Type="Absolute" Offset="-400" NextSymbol="esv::GameStateMachine::Update" NextSymbolSeekSize="400" />
            4C 8D 05 ?? ?? ?? ?? // lea r8, aServerStateSwa ; "SERVER STATE SWAP - from: %s, to: %s\n"
        </Mapping>

        <Mapping Name="esv::GameStateThreaded::GameStateWorker::DoWork" Critical="true">
            <Condition Type="String" Offset="0" Value="esv::GameStateThreaded::GameStateWorker::DoWork" />
            <Target Type="Absolute" Offset="-57" Symbol="esv__GameStateThreaded__GameStateWorker__DoWork" />
            4C 8D 3D ?? ?? ?? ?? // lea     rbp, aEsvGamestateth ; "esv::GameStateThreaded::GameStateWorker::DoWork"
        </Mapping>

        <Mapping Name="ecl::GameStateThreaded::GameStateWorker::DoWork" Critical="true">
            <Condition Type="String" Offset="0" Value="ecl::GameStateThreaded::GameStateWorker::DoWork" />
            <Target Type="Absolute" Offset="-47" Symbol="ecl__GameStateThreaded__GameStateWorker__DoWork" />
            4C 8D 3D ?? ?? ?? ?? // lea     rbp, aEclGamestateth ; "ecl::GameStateThreaded::GameStateWorker::DoWork"
        </Mapping>

        <Mapping Name="esv::PassiveSystem::ExecFunctorsBaseCtx">
            <Target Type="Indirect" Offset="0" Symbol="eoc__StatsFunctorSet__ExecuteType1" />
            <Target Type="Indirect" Offset="32" Symbol="eoc__StatsFunctorSet__ExecuteType2" />
            <Target Type="Indirect" Offset="64" Symbol="eoc__StatsFunctorSet__ExecuteType3" />
            <Target Type="Indirect" Offset="96" Symbol="eoc__StatsFunctorSet__ExecuteType4" />
            <Target Type="Indirect" Offset="125" Symbol="eoc__StatsFunctorSet__ExecuteType5" />
            <Target Type="Indirect" Offset="154" Symbol="eoc__StatsFunctorSet__ExecuteType6" />
            <Target Type="Indirect" Offset="183" Symbol="eoc__StatsFunctorSet__ExecuteType7" />
            E8 ?? ?? ?? ?? // call    eoc__FunctorList__ExecuteType0
            E9 ?? ?? 00 00 // jmp     xxx

            3C 01 // cmp     al, 1
            75 ?? // jnz     short xxx
            48 8D 97 B0 00 00 00 // lea     rdx, [rdi+0B0h]
            4D 8D 45 08 // lea     r8, [r13+8]
            48 8D 8D 80 00 00 00 // lea     rcx, [rbp+460h+hit]
            E8 ?? ?? ?? ?? // call    xxx
            E9 ?? ?? ?? ?? // jmp     xxx

            3C 02 // cmp     al, 2
            75 ?? // jnz     short xxx
            48 8D 97 B0 00 00 00 // lea     rdx, [rdi+0B0h]
            4D 8D 45 08 // lea     r8, [r13+8]
            48 8D 8D 80 00 00 00 // lea     rcx, [rbp+460h+hit]
            E8 ?? ?? ?? ?? // call    xxx
            E9 ?? ?? ?? ?? // jmp     xxx

            3C 03 // cmp     al, 3
            75 ?? // jnz     short xxx
            48 8D 97 B0 00 00 00 // lea     rdx, [rdi+0B0h]
            4D 8D 45 08 // lea     r8, [r13+8]
            48 8D 8D 80 00 00 00 // lea     rcx, [rbp+460h+hit]
            E8 ?? ?? ?? ?? // call    xxx
            EB ?? // jmp     short xxx

            3C 04 // cmp     al, 4
            75 ?? // jnz     short xxx
            48 8D 97 B0 00 00 00 // lea     rdx, [rdi+0B0h]
            4D 8D 45 08 // lea     r8, [r13+8]
            48 8D 8D 80 00 00 00 // lea     rcx, [rbp+460h+hit]
            E8 ?? ?? ?? ?? // call    xxx
            EB ?? // jmp     short xxx

            3C 05 // cmp     al, 5
            75 ?? // jnz     short xxx
            48 8D 97 B0 00 00 00 // lea     rdx, [rdi+0B0h]
            4D 8D 45 08 // lea     r8, [r13+8]
            48 8D 8D 80 00 00 00 // lea     rcx, [rbp+460h+hit]
            E8 ?? ?? ?? ?? // call    xxx
            EB ?? // jmp     short xxx

            3C 06 // cmp     al, 6
            75 ?? // jnz     short xxx
            48 8D 97 B0 00 00 00 // lea     rdx, [rdi+0B0h]
            4D 8D 45 08 // lea     r8, [r13+8]
            48 8D 8D 80 00 00 00 // lea     rcx, [rbp+460h+hit]
            E8 ?? ?? ?? ?? // call    xxx
            EB ?? // jmp     short xxx

            3C 07 // cmp     al, 7
            75 ?? // jnz     short xxx
            48 8D 97 B0 00 00 00 // lea     rdx, [rdi+0B0h]
            4D 8D 45 08 // lea     r8, [r13+8]
            48 8D 8D 80 00 00 00 // lea     rcx, [rbp+460h+hit]
            E8 ?? ?? ?? ?? // call    xxx

            48 8D 8D 80 00 00 00 // lea     rcx, [rbp+460h+hit]
        </Mapping>

        <Mapping Name="eoc::DealDamageFunctor::ApplyDamage" Scope="Custom">
            <Target Type="Indirect" Offset="7" Symbol="eoc__DealDamageFunctor__ApplyDamage" />
            48 8D 8D ?? ?? 00 00 // lea     rcx, [rbp+420h+var_230]
            E8 ?? ?? ?? ?? // call    eoc__DealDamageFunctor__ApplyDamage2
            90 // nop
        </Mapping>

        <Mapping Name="eoc::DealDamageFunctor::ApplyDamage Outer">
            <Condition Type="FixedString" Offset="0" Value="FallDamageDamageType" />
            <Target Type="Absolute" Offset="0" NextSymbol="eoc::DealDamageFunctor::ApplyDamage" NextSymbolSeekSize="384" />
            48 8D 15 ?? ?? ?? ?? // lea     rdx, fs_FallDamageDamageType
            48 8B 89 48 02 00 00 // mov     rcx, [rcx+248h]
            E8 ?? ?? ?? ?? // call    CRPGStats_ExtraData__Get
            F3 0F 2C C0 // cvttss2si eax, xmm0
            88 45 35 // mov     [rbp+420h+var_3F0.DamageType], al
        </Mapping>

        <Mapping Name="App::Instance">
            <Condition Type="String" Offset="0" Value="EffectManager" />
            <Target Type="Indirect" Offset="18" Symbol="AppInstance" />
            4C 8D 05 ?? ?? ?? ?? // lea     r8, aEffectmanager
            BA 01 00 00 00 // mov     edx, 1
            48 8B CE // mov     rcx, r15
            FF 50 78 // call    qword ptr [rax+80h]
            48 8B 05 ?? ?? ?? ?? // mov     rax, cs:gApp2
        </Mapping>

        <Mapping Name="RPGStats">
            <Condition Type="FixedString" Offset="14" Value="Infectious Disease Depth" />
            <Target Type="Indirect" Offset="7" Symbol="Stats" />
            48 89 87 90 01 00 00 // mov     [rdi+190h], rax
            48 8B 1D ?? ?? ?? ?? // mov     rbx, cs:gRPGStats
            48 8D 15 ?? ?? ?? ?? // lea     rdx, fs_Infectious_Disease_Depth
        </Mapping>

        <Mapping Name="esv::SavegameManager">
            <Target Type="Indirect" Offset="18" Symbol="esv__SavegameManager" />
            48 89 03 // mov     [rbx], rax
            4C 8B CB // mov     r9, rbx
            44 8B 05 ?? ?? ?? ?? // mov     r8d, cs:esv__SurfaceActionIndex
            BA 15 00 00 00 // mov     edx, 15h
            48 8B 0D ?? ?? ?? ?? // mov     rcx, cs:esv__gSavegameManager
            E8 ?? ?? ?? ?? // call    esv__SavegameManager__RegisterFactory
            90 // nop
        </Mapping>

        <Mapping Name="esv::SurfaceActionFactory::AddSurfaceAction" Scope="Custom">
            <Target Type="Indirect" Offset="6" Symbol="esv__SurfaceManager__AddAction" />
            49 8B D6 //  mov     rdx, r14
            48 8B C8 // mov     rcx, rax
            E8 ?? ?? ?? ?? // call    esv__SurfaceActionFactory__AddSurfaceAction
            88 5E 08 // mov     [rsi+8], bl
        </Mapping>

        <Mapping Name="esv::SurfaceActionFactory">
            <Target Type="Absolute" Offset="0" NextSymbol="esv::SurfaceActionFactory::AddSurfaceAction" NextSymbolSeekSize="768" />
            <Target Type="Indirect" Offset="0" Symbol="esv__SurfaceActionFactory" />
            <Target Type="Indirect" Offset="27" Symbol="esv__SurfaceActionFactory__CreateAction" />
            48 8B 0D ?? ?? ?? ?? // mov     rcx, cs:esv__gSurfaceActionFactory
            48 BB 00 00 00 00 00 00 C0 FF // mov     rbx, 0FFC0000000000000h
            44 8B C0 // mov     r8d, eax
            48 89 5C 24 20 // mov     [rsp+60h+var_40], rbx
            B2 01 // mov     dl, 1
            E8 ?? ?? ?? ?? // call    esv__SurfaceActionFactory__CreateSurfaceAction
        </Mapping>

        <Mapping Name="eoc::gResourceDefinitions">
            <Target Type="Indirect" Offset="0" Symbol="ResourceDefns" />
            48 8B 0D ?? ?? ?? ?? // mov     rcx, cs:eoc__gResourceDefinitions
            E8 ?? ?? ?? ?? // call    eoc__ResourceDefinitions__GetTagManager
            40 38 6C 24 40 // cmp     [rsp+58h+var_18], bpl
            48 8D 54 24 30 // lea     rdx, [rsp+58h+var_28]
            48 0F 45 D5 // cmovnz  rdx, rbp
        </Mapping>

        <Mapping Name="eoc::gResourceManager">
            <Condition Type="String" Offset="0" Value="Loading Sound" />
            <Target Type="Indirect" Offset="18" Symbol="ResourceMgr" />
            4C 8D 05 ?? ?? ?? ?? // lea     r8, aLoadingSound ; "Loading Sound"
            BA 01 00 00 00 // mov     edx, 1
            49 8B CF // mov     rcx, r15
            41 FF D1 // call    r9
            48 8B 15 ?? ?? ?? ?? // mov     rdx, cs:eoc__gResourceManager
        </Mapping>

        <Mapping Name="ls::GlobalSwitches">
            <Condition Type="FixedStringIndirect" Offset="19" Value="ShowSubtitles" />
            <Target Type="Indirect" Offset="12" Symbol="GlobalSwitches" />
            48 8B 8E F0 01 00 00 // mov     [rsp-8+arg_10], rbx
            E8 ?? ?? ?? ?? // call    xxx
            48 8B 0D ?? ?? ?? ?? // mov     rcx, cs:ls__gGlobalSwitches
            48 8B 15 ?? ?? ?? ?? // mov     rdx, cs:pffs_ShowSubtitles
        </Mapping>

      <Mapping Name="eoc::SpellPrototype::Init" Scope="Custom">
        <Target Type="Absolute" Offset="0" Symbol="eoc__SpellPrototype__Init" />
        48 89 5C 24 18 // mov     [rsp-8+arg_10], rbx
        55 // push    rbp
      </Mapping>

      <Mapping Name="eoc::SpellPrototype::Init Outer">
        <Condition Type="FixedStringIndirect" Offset="6" Value="SpellSchool" />
        <Target Type="Absolute" Offset="-256" NextSymbol="eoc::SpellPrototype::Init" NextSymbolSeekSize="256" />
        41 B8 FF FF FF FF // mov     r8d, 0FFFFFFFFh
        48 8B 15 ?? ?? ?? ?? // lea     rdx, fs_SpellSchool
        48 8B C8 // mov     rcx, rax
        E8 ?? ?? ?? ?? // call    CRPGStats::etModifierInt
        41 88 46 0C // mov     [r14+0Ch], al
      </Mapping>

      <Mapping Name="eoc::gSpellPrototypeManager">
        <Condition Type="String" Offset="0" Value="Spells" />
        <Target Type="Indirect" Offset="18" Symbol="eoc__SpellPrototypeManager" />
        4C 8D 05 ?? ?? ?? ?? // lea     r8, str_Spells
        BA 01 00 00 00 // mov     edx, 1
        49 8B CF // mov     rcx, r15
        FF 50 78 // call    qword ptr [rax+78h]
        48 8B 0D ?? ?? ?? ?? // mov     rcx, cs:eoc__gSpellManager
      </Mapping>
    </Mappings>
</BinaryMappings>